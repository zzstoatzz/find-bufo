# bot/justfile
set shell := ["bash", "-eu", "-o", "pipefail", "-c"]

default:
    @just --list

# build the bot
build:
    zig build

# run the bot locally
run:
    zig build run

# deploy to fly.io
deploy:
    fly deploy --wait-timeout 180

# check logs
logs:
    fly logs -a bufo-bot

# set secrets (run once)
secrets HANDLE PASSWORD:
    fly secrets set BSKY_HANDLE={{ HANDLE }} BSKY_APP_PASSWORD={{ PASSWORD }} -a bufo-bot
